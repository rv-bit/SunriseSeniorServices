import{u as S,r as i,A as v,d as A,j as e,g as L,e as b}from"./index-BkQICH-X.js";import{u as y}from"./UseDocumentTitle-McNeP1rR.js";import{N as E}from"./Notifications-KuRf63x_.js";import{T,a as G,b as p,c as k,A as D}from"./tabs-Bkzm6Ojr.js";import{B as u}from"./button-DZFmWa-B.js";import{C as U,b as I,c as O,d as B,a as m}from"./card-DD6vI8e8.js";import"./input-DfNpMjP5.js";import{a as H,L as g}from"./label-HHLXxaTW.js";import"./iconBase-r11lJbk7.js";import"./extends-CCbyfPlC.js";import"./index-CTZesL8v.js";import"./index-BDpOC3Tw.js";import"./index-DadDiSAp.js";import"./index-Bo7cNx1T.js";import"./index-BBjFYfzN.js";import"./index-Nm5ibAgm.js";import"./createLucideIcon-CFD14ua0.js";const ae=()=>{y("Sign Up");const s=S(),{userAuthData:n,setUserAuth:x}=i.useContext(v);i.useEffect(()=>{if(n&&n.length>0||n&&n.isConnected){s("/");return}},[]);const[f,a]=i.useState(!1),[r,o]=i.useState({open:!1,message:""}),h=A({onError:t=>{o({...r,open:!0,message:t.message+", please try again."}),a(!1)},onNonOAuthError:t=>{o({...r,open:!0,message:t.message+", please try again."}),a(!1)},onSuccess:t=>{a(!0);const j=t.code;(async()=>{const[C,l]=await L(j);if(!C){a(!1),s("/");return}if(l.accountExistsAlready){const d=l.user,w={email:d.email,password:d.password},[N,c]=await b(w);if(!N){a(!1),o({...r,open:!0,message:c.Error});return}c.user.isConnected=!0,x(c.user),a(!1),s("/");return}s("/signup/get-started",{state:{informationGiven:l}})})()},flow:"auth-code"});return e.jsxs("div",{className:"flex items-center justify-center min-h-5",children:[r.open&&e.jsx(E,{alertState:r,setAlertState:o}),e.jsx("div",{className:"max-w-screen-sm mx-auto mb-10",children:e.jsxs(T,{defaultValue:"sign-up",className:"w-[400px] max-sm:w-[350px]",children:[e.jsxs(G,{className:"grid w-full grid-cols-2",children:[e.jsx(p,{value:"sign-in",onClick:()=>{s("/login")},children:"Login"}),e.jsx(p,{value:"sign-up",children:"Sign Up"})]}),e.jsx(k,{value:"sign-up",children:e.jsxs(U,{children:[e.jsxs(I,{children:[e.jsx(O,{children:"Sign Up"}),e.jsx(B,{children:"Create a new account using your email and password."})]}),e.jsx(m,{className:"space-y-2",children:e.jsx(u,{className:"w-full",onClick:()=>s("/signup/get-started"),children:"Continue with Email"})}),e.jsx(m,{children:f?e.jsxs(u,{disabled:!0,className:"w-full",children:[e.jsx(H,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):e.jsxs(u,{className:"w-full",onClick:()=>{a(!0),h()},children:[e.jsx(D,{className:"mr-2"}),"Continue with Google"]})}),e.jsx(m,{className:"space-y-2 text-center",children:e.jsxs(g,{onClick:t=>{t.preventDefault(),s("/login")},className:"text-center mb-6",children:["Have an account ? ",e.jsx(g,{className:"underline text-cyan-600 hover:text-sky-400 cursor-pointer",children:"Sign In"})]})})]})})]})})]})};export{ae as default};
